//
// Project:				eXtremeServer Sauerbraten
// File Name: 			eXtreme_CommandManager.cfg
// Author: 				BudSpencer
// Date: 				2017
// 
// Purpose: 			define functions to manage commands 
//



// ADDCOMMAND
// ADD COMMAND TO LIST OF EXECUTABLE COMMANDS
// DOESN'T WORK IF COMMAND ALREADY EXISTS
eXtreme_AddCommand = [
	cmd_name = $arg1 ; cmd_alias = $arg2 
	cmd_priv = $arg3 ; cmd_argtypes = $arg4
	cmd_helpstr = $arg5 ; cmd_enabled = $arg6
	cond ( eXtreme_CheckForArguments $cmd_name $cmd_alias $cmd_priv $cmd_helpstr $cmd_enabled ) [
		cond ( ! ( eXtreme_CommandExists $cmd_name ) ) [
			COMMAND_NAMES = ( eXtreme_AddToList $COMMAND_NAMES $cmd_name )
			COMMAND_IDENT = ( eXtreme_AddToList $COMMAND_IDENT $cmd_alias )
			COMMAND_ARGTY = ( eXtreme_AddToList $COMMAND_ARGTY $cmd_argtypes )
			COMMAND_PRIVI = ( eXtreme_AddToList $COMMAND_PRIVI $cmd_priv )
			COMMAND_HELPS = ( eXtreme_AddToList $COMMAND_HELPS $cmd_helpstr )
			COMMAND_STATE = ( eXtreme_AddToList $COMMAND_STATE $cmd_enabled )
		]
	]
]


// REMOVECOMMAND
// REMOVE COMMAND FROM LIST OF EXECUTABLE COMMANDS
// DOESN'T WORK IF COMMAND DOESN'T EXIST
eXtreme_RemoveCommand = [
	remove_name = $arg1 ; remove_index = -1
	cond ( !=s ( format $remove_name ) "" ) [
		cond ( eXtreme_CommandExists $remove_name ) [
			remove_index = ( indexof $COMMAND_NAMES $remove_name )
			COMMAND_NAMES = ( eXtreme_DeleteFromList $COMMAND_NAMES $remove_index )
			COMMAND_IDENT = ( eXtreme_DeleteFromList $COMMAND_IDENT $remove_index )
			COMMAND_ARGTY = ( eXtreme_DeleteFromList $COMMAND_ARGTY $remove_index )
			COMMAND_PRIVI = ( eXtreme_DeleteFromList $COMMAND_PRIVI $remove_index )
			COMMAND_HELPS = ( eXtreme_DeleteFromList $COMMAND_HELPS $remove_index )
			COMMAND_STATE = ( eXtreme_DeleteFromList $COMMAND_STATE $remove_index )
		]
	]
]


